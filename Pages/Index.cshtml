@page "/"
@inject HttpClient Http


@functions {
  //add back @using Models
    private Activity[] activities { get; set; }

    class Activity
    {
      public string _id { get; set; }

      public string Title { get; set; }

      public string Description { get; set; }

      public int Likes { get; set; }

      public int Dislikes { get; set; }

      public string createdAt { get; set; }

      public string updatedAt { get; set; }

      public int __v { get; set; }

      public string id { get; set; }
      
      public string Picture { get; set; }
    }

    protected override async Task OnInitAsync()
    {
      var response = await Http.GetStringAsync("http://ec2-52-91-254-158.compute-1.amazonaws.com/activities");
      Console.WriteLine(response);

      var secondResponse = await Http.GetJsonAsync<Activity[]>("http://ec2-52-91-254-158.compute-1.amazonaws.com/activities");
      Console.WriteLine(secondResponse);

      foreach(Activity activity in secondResponse) {
        Console.WriteLine("Here is an activity: " + activity.Title);
      }
    }
}
